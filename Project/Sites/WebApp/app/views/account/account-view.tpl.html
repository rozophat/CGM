<div class="row">
	<div class="col-md-12">
		<!-- BEGIN PAGE TITLE & BREADCRUMB-->
		<h3 class="page-title">Edit Account
		</h3>
		<ul class="page-breadcrumb breadcrumb">
			<li>
				<i class="fa fa-home"></i>
				<a href="javascript:void()">Home</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a ui-sref="accounts">Accounts</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<span>View Account</span>
			</li>
			<li class="pull-right">
				<div id="dashboard-report-range" class="dashboard-date-range tooltips" data-placement="top" data-original-title="Change dashboard date range">
					<i class="fa fa-calendar"></i>
					<span></span>
					<i class="fa fa-angle-down"></i>
				</div>
			</li>
		</ul>
		<!-- END PAGE TITLE & BREADCRUMB-->
	</div>
</div>
<!-- END PAGE HEADER-->
<div class="row">
	<div class="col-md-12">

		<div class="tabbable tabbable-custom">
			<ul class="nav nav-tabs">
				<li ng-class="{active:isSet(1)}"><a href="javascript:;" ng-click="setTab(1)"><i class="fa fa-info-circle fa-fw"></i>Information</a></li>
				<li ng-class="{active:isSet(2)}"><a href="javascript:;" ng-click="setTab(2)"><i class="fa fa-font fa-fw"></i>Keywords</a></li>
				<li ng-class="{active:isSet(3)}"><a href="javascript:;" ng-click="setTab(3)"><i class="fa fa-user fa-fw"></i>Contacts</a></li>
				<li ng-class="{active:isSet(4)}"><a href="javascript:;" ng-click="setTab(4)"><i class="fa fa-comment fa-fw"></i>Comments</a></li>
				<li ng-class="{active:isSet(5)}"><a href="javascript:;" ng-click="setTab(5)"><i class="fa fa-thumbs-o-up fa-fw"></i>Likes ({{tableALParams.total()}})</a></li>
				<li ng-class="{active:isSet(6)}"><a href="javascript:;" ng-click="setTab(6)"><i class="fa fa-list fa-fw"></i>Listings</a></li>
				<li ng-class="{active:isSet(7)}"><a href="javascript:;" ng-click="setTab(7)"><i class="fa fa-flag-o fa-fw"></i>Banners</a></li>
			</ul>

			<div class="tab-content">
				<div class="tab-pane" ng-class="{active:isSet(1)}" ng-show="isSet(1)">
					<!-- BEGIN FORM-->
					<ng-form name="accountEditForm" class="form-horizontal">
						<div class="form-body">
							<div class="row">
								<div class="col-md-6">
									<div class="form-group" ng-class="{'has-error': accountEditForm.FirstName.$invalid && !accountEditForm.FirstName.$pristine}">
										<label class="control-label col-md-3">First Name<span class="required">*</span></label>
										<div class="col-md-9">
											<input type="text" name="FirstName" ng-model="Account.FirstName" required show-errors class="form-control">
											<span class="help-block" ng-show="accountEditForm.FirstName.$invalid && !accountEditForm.FirstName.$pristine">
												This field is required
											</span>
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" ng-class="{'has-error': accountEditForm.LastName.$invalid && !accountEditForm.LastName.$pristine}">
										<label class="control-label col-md-3">Last Name<span class="required">*</span></label>
										<div class="col-md-9">
											<input type="text" name="LastName" ng-model="Account.LastName" required show-errors class="form-control">
											<span class="help-block" ng-show="accountEditForm.LastName.$invalid && !accountEditForm.LastName.$pristine">
												This field is required
											</span>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Phone Number</label>
										<div class="col-md-9">
											<input type="text" name="PhoneNumber" ng-model="Account.PhoneNumber"
												   class="form-control" placeholder="Ex: 0126598125" ng-pattern-restrict="^.{0,20}?$">
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" ng-class="{'has-error': accountEditForm.Email.$invalid && !accountEditForm.Email.$pristine && !accountEditForm.Email.$focused}">
										<label class="control-label col-md-3">Email</label>
										<div class="col-md-9">
											<input type="email" name="Email" ng-model="Account.Email" show-errors class="form-control" placeholder="Ex: admin@besp.com">
											<span class="help-block" ng-show="accountEditForm.Email.$invalid && !accountEditForm.Email.$pristine && !accountEditForm.Email.$focused">
												This field has error.
											</span>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Sex</label>
										<div class="col-md-9">
											<select class="form-control" ng-model="Account.Sex">
												<option value="M">Male</option>
												<option value="F">Female</option>
											</select>
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">DOB</label>
										<div class="col-md-9">
											<input type="text" name="StartDateTime" class="form-control date" ng-model="Account.DOB" bs-datepicker
											       bs-show="showStartDatePicker" ng-blur="showStartDatePicker = false" ng-click="showStartDatePicker = true">
										</div>
									</div>
								</div>
							</div>
							<div class="row">
					<div class="col-md-6">
						<div class="form-group">
							<label class="control-label col-md-3">Address Line 1</label>
							<div class="col-md-9">
								<input type="text" name="AddressLine1" class="form-control" ng-model="Account.AddressLine1">
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group">
							<label class="control-label col-md-3">Address Line 2</label>
							<div class="col-md-9">
								<input type="text" name="AddressLine2" class="form-control" ng-model="Account.AddressLine2">
							</div>
						</div>
					</div>
				</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">City</label>
										<div class="col-md-9">
											<input type="text" name="City" class="form-control" ng-model="Account.City">
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Province State</label>
										<div class="col-md-9">
											<input type="text" name="ProvinceState" class="form-control" ng-model="Account.ProvinceState">
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Country</label>
										<div class="col-md-9">
											<input type="text" name="Country" class="form-control" ng-model="Account.Country">
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Postal Zip</label>
										<div class="col-md-9">
											<input type="text" name="PostalZip" class="form-control" ng-model="Account.PostalZip">
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">GPS Latitude</label>
										<div class="col-md-9">
											<input type="text" name="GPSLatitude" class="form-control" ng-model="Account.GPSLatitude">
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">GPS Longitude</label>
										<div class="col-md-9">
											<input type="text" name="GPSLongitude" class="form-control" ng-model="Account.GPSLongitude">
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Facebook Id</label>
										<div class="col-md-9">
											<input type="text" name="FBId" class="form-control" ng-model="Account.FBId">
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Google Id</label>
										<div class="col-md-9">
											<input type="text" name="GId" class="form-control" ng-model="Account.GId">
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">Password</label>
										<div class="col-md-9">
											<input type="text" name="Password" ng-model="Account.Password" class="form-control">
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" ng-class="{'has-error': accountAddForm.YearGroupAge.$invalid && !accountAddForm.YearGroupAge.$pristine}">
										<label class="control-label col-md-3">Year Group Age<span class="required">*</span></label>
										<div class="col-md-9">
											<input type="text" name="YearGroupAge" ng-model="Account.YearGroupAge" required show-errors class="form-control" ng-pattern-restrict="^\d{0,10}?$">
											<span class="help-block" ng-show="accountAddForm.YearGroupAge.$invalid && !accountAddForm.YearGroupAge.$pristine">
												This field is required
											</span>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="control-label col-md-3">About Me</label>
										<div class="col-md-9">
											<textarea name="AboutMe" ng-model="Account.AboutMe" class="form-control"></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="fluid">
							<div class="row">
								<div class="col-md-6">
									<div class="col-md-offset-3 col-md-9">
										<button type="button" class="btn btn-success" ng-click="updateAccount()">Update Information</button>
										<button type="button" class="btn btn-default" ng-click="doTheBack()">Cancel</button>
									</div>
								</div>
								<div class="col-md-6">
								</div>
							</div>
						</div>
					</ng-form>
					<!-- END FORM-->
				</div>
				<div class="tab-pane" ng-class="{active:isSet(2)}" ng-show="isSet(2)">
					<div class="row">
						<div class="col-md-6">
							<div class="table-responsive">
								<table ng-table="tableAKParams" class="table table-striped table-bordered table-hover">
									<tr ng-repeat="accountKeyword in $data">
										<td style="width: 50px; text-align: center" data-title="'Id'" ng-bind="accountKeyword.Id"></td>
										<td style="text-align: left" data-title="'Keyword'" sortable="'KeywordName'" ng-bind="accountKeyword.KeywordName"></td>
										<td style="text-align: center" data-title="'Keyword Type'" sortable="'KeywordType'" ng-bind="getKeywordType(accountKeyword.KeywordType)"></td>
										<td style="width: 80px; text-align: center">
											<button class="btn btn-danger btn-sm ng-scope" ng-click="showDeleteAccountKeywordConfirmation(accountKeyword.Id)"><span class="glyphicon glyphicon-trash"></span></button>
										</td>
									</tr>
								</table>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group form-horizontal ">
								<label class="control-label col-md-5">Select Keyword:</label>
								<div class="col-md-7">
									<input type="text" ng-model="NewKeyword" class="form-control" ng-pattern-restrict="^.{0,10}?$"
										typeahead="keyword for keyword in getASKeyword($viewValue)">
								</div>
							</div>
						</div>
						<button type="button" class="btn btn-success" ng-click="assignKeyword()">Assign Keyword</button>
					</div>
				</div>
				<div class="tab-pane" ng-class="{active:isSet(3)}" ng-show="isSet(3)">
					<div class="row">
						<div class="col-md-6">
							<div class="table-responsive">
								<table ng-table="tableACOParams" class="table table-striped table-bordered table-hover">
									<tr ng-repeat="accountContact in $data">
										<td style="width: 50px; text-align: center" data-title="'Id'" ng-bind="accountContact.Id"></td>
										<td style="text-align: left; font-weight: bold" data-title="'ContactName'" sortable="'ContactName'">
											<a href="#/account/view/{{accountContact.ContactId}}/1/1">{{accountContact.ContactName}}</a>
										</td>
										<td style="width: 80px; text-align: center">
											<button class="btn btn-danger btn-sm ng-scope" ng-click="showDeleteAccountContactConfirmation(accountContact.Id)"><span class="glyphicon glyphicon-trash"></span></button>
										</td>
									</tr>
								</table>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group form-horizontal ">
								<label class="control-label col-md-5">Select Contact {{(NewContactId != "" && NewContactId != undefined ) ? ( '[' + NewContactId + ']' ): ""}}</label>
								<div class="col-md-7">
									<input type="text" ng-model="NewContactName" class="form-control"
										typeahead="contact for contact in getASContact($viewValue)" typeahead-on-select="onSelect($item)">
								</div>
							</div>
						</div>
						<button type="button" class="btn btn-success" ng-click="addContact()">Add Contact</button>
					</div>
				</div>
				<div class="tab-pane" ng-class="{active:isSet(4)}" ng-show="isSet(4)">
					<div class="row">
						<div class="col-md-12">
							<div class="table-responsive">
								<table ng-table="tableACParams" class="table table-striped table-bordered table-hover">
									<tr ng-repeat="accountComment in $data">
										<td style="width: 50px; text-align: center" data-title="'Id'" ng-bind="accountComment.Id"></td>
										<td style="text-align: left; font-weight: bold" data-title="'Contact Name'">
											<a href="#/account/view/{{accountComment.ByAccountId}}/1/1">{{accountComment.ByAccountName}}</a>
										</td>
										<td style="text-align: left" data-title="'Title'" ng-bind="accountComment.Title"></td>
										<td style="text-align: left" data-title="'Description'" ng-bind="accountComment.Description"></td>
										<td style="width: 100px; text-align: center" data-title="'Rating'" sortable="'Rating'" ng-bind="accountComment.Rating"></td>
										<td style="width: 80px; text-align: center">
											<button class="btn btn-danger btn-sm ng-scope" ng-click="showDeleteAccountCommentConfirmation(accountComment.Id)"><span class="glyphicon glyphicon-trash"></span></button>
										</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="tab-pane" ng-class="{active:isSet(5)}" ng-show="isSet(5)">
					<div class="row">
						<div class="col-md-5">
							<table ng-table="tableALParams" class="table table-striped table-bordered table-hover">
								<tr ng-repeat="accountLike in $data">
									<td style="width: 50px; text-align: center" data-title="'Id'" ng-bind="accountLike.ByAccountId"></td>
									<td style="text-align: left; font-weight: bold" data-title="'Account Name'" sortable="'ByAccountName'">
										<a href="#/account/view/{{accountLike.ByAccountId}}/1/1">{{accountLike.ByAccountName}}</a>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<div class="tab-pane" ng-class="{active:isSet(6)}" ng-show="isSet(6)">
					<div class="row">
						<div class="col-md-7">
							<div class="table-responsive">
								<table ng-table="tableALIParams" class="table table-striped table-bordered table-hover">
									<tr ng-repeat="accountListing in $data">
										<td style="width: 50px; text-align: center" data-title="'Id'">
											<a href="#/listing/view/{{accountListing.Id}}/1/1">{{accountListing.Id}}</a>
										</td>
										<td style="text-align: left" data-title="'Title'" ng-bind="accountListing.Title"></td>
										<td style="text-align: left" data-title="'Description'" ng-bind="accountListing.Description"></td>
										<td style="text-align: center" data-title="'Category'" ng-bind="accountListing.CategoryName"></td>
										<td class="center" data-title="'Status'">
											<span class="label label-sm label-success" ng-show="accountListing.Active == '1'">Active
											</span>
											<span class="label label-sm label-default" ng-show="accountListing.Active == '0'">Inactive
											</span>
										</td>
										<td style="width: 80px; text-align: center">
											<a href="#/listing/view/{{accountListing.Id}}/1/1" class="btn btn-default btn-sm ng-scope"><span class="glyphicon glyphicon-pencil"></span></a>
										</td>
										<td style="width: 80px; text-align: center">
											<button class="btn btn-danger btn-sm ng-scope" ng-click="showDeleteAccountListingConfirmation(accountListing.Id)"><span class="glyphicon glyphicon-trash"></span></button>
										</td>
									</tr>
								</table>
							</div>
						</div>

						<div class="col-md-5">
							<ng-form name="listingAddForm" class="form-horizontal listing-add-form">
								<div class="form-body">
									<h3 class="form-section">Add New Listing</h3>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group" ng-class="{'has-error': listingAddForm.Title.$invalid && !listingAddForm.Title.$pristine}">
												<label class="control-label col-md-3">Title<span class="required">*</span></label>
												<div class="col-md-6">
													<input type="text" name="Title" ng-model="Listing.Title" required show-errors class="form-control">
													<span class="help-block" ng-show="listingAddForm.Title.$invalid && !listingAddForm.Title.$pristine">
														This field is required
													</span>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group" ng-class="{'has-error': listingAddForm.Description.$invalid && !listingAddForm.Description.$pristine}">
												<label class="control-label col-md-3">Description<span class="required">*</span></label>
												<div class="col-md-6">
													<input type="text" name="Description" ng-model="Listing.Description" required show-errors class="form-control">
													<span class="help-block" ng-show="listingAddForm.Description.$invalid && !listingAddForm.Description.$pristine">
														This field is required
													</span>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label class="control-label col-md-3">Listing Type</label>
												<div class="col-md-6">
													<select class="form-control" name="ListingType" ng-model="Listing.ListingType">
														<option value="B">Business</option>
														<option value="E">Event</option>
														<option value="P">Public Place</option>
														<option value="S">Public Service</option>
													</select>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label class="control-label col-md-3">Category</label>
												<div class="col-md-6">
													<select class="form-control" name="CategoryId" ng-model="Listing.CategoryId" 
														ng-options="a.Id as a.Name group by a.ParentCategoryName for a in Categories">
													</select>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label class="control-label col-md-3">Active</label>
												<div class="col-md-6">
													<select class="form-control" name="Active" ng-model="Listing.Active">
														<option value="1">Active</option>
														<option value="0">Inactive</option>
													</select>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="fluid">
									<div class="row">
										<div class="col-md-12">
											<div class="col-md-offset-3 col-md-6">
												<button type="button" class="btn btn-success" ng-click="createListing()">Create Listing</button>
											</div>
										</div>
									</div>
								</div>
							</ng-form>
						</div>
					</div>
				</div>
				<div class="tab-pane" ng-class="{active:isSet(7)}" ng-show="isSet(7)">
					<div class="row">
						<div class="col-md-12">
							<div class="table-toolbar">
								<div class="btn-group">
									<a href="#/banner/add/{{id}}" class="btn btn-success">Add New Banner <i class="fa fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="table-responsive">
								<table ng-table="tableABParams" class="table table-striped table-bordered table-hover">
									<tr ng-repeat="accountBanner in $data">
										<td style="width: 50px; text-align: center" data-title="'Id'">
											<a href="#/banner/view/{{accountBanner.Id}}/1/1">{{accountBanner.Id}}</a>
										</td>
										<td style="text-align: left" data-title="'Title'" sortable="'Title'" ng-bind="accountBanner.Title"></td>
										<td style="text-align: left" data-title="'Description'" sortable="'Description'" ng-bind="accountBanner.Description"></td>
										<td style="text-align: center" data-title="'Destination Type'" sortable="'DestinationType'" ng-bind="accountBanner.DestinationType"></td>
										<td style="text-align: left" data-title="'Destination'" sortable="'Destination'" ng-bind="accountBanner.Destination"></td>

										<td style="text-align: center" data-title="'Start Time'" sortable="'StartDateTime'">
											{{accountBanner.StartDateTime | date:'dd/MM/yyyy'}}
										</td>
										<td style="text-align: center" data-title="'End Time'" sortable="'EndDateTime'">
											{{accountBanner.EndDateTime | date:'dd/MM/yyyy'}}
										</td>
										<td style="text-align: center" data-title="'Category'" ng-bind="accountBanner.CategoryName"></td>
										<td style="text-align: center" data-title="'Active'" sortable="'Active'" ng-bind="accountBanner.Active"></td>
										<td style="width: 80px; text-align: center">
											<a href="#/banner/view/{{accountBanner.Id}}/1/1" class="btn btn-default btn-sm ng-scope"><span class="glyphicon glyphicon-pencil"></span></a>
										</td>
										<td style="width: 80px; text-align: center">
											<button href="#" class="btn btn-danger btn-sm ng-scope" ng-click="showDeleteAccountBannerConfirmation(accountBanner.Id)"><span class="glyphicon glyphicon-trash"></span></button>
										</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>
